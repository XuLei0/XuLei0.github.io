---
title: pythonn基础
abbrlink: 20561
date: 2022-03-08 09:13:25
tags: Python
categories: Python学习
---
# python基础
python采用缩进的方式来区分代码块，采用 \# 来标记注释，python程序还是大小写敏感的。

### 数据类型和变量
计算机程序理所当然地可以处理各种数值。但是，计算机能处理的远不止数值，还可以处理文本、图形、音频、视频、网页等各种各样的数据，不同的数据，需要定义不同的数据类型。在Python中，能够直接处理的数据类型有以下几种：
1. 整型：十六进制数前面需要加上**Ox**
	* 进制转换：
		* 二进制转为十进制：`int('10',2) == 2`
		* 八进制转为十进制：`int('04',8) == 4`
		* 十六进制转十进制：`int('0x4',16) == 4`
		* 转为二进制：`bin(int)`
		* 转为八进制：`oct(int)`
		* 转十六进制：`hex(int)`
3. 浮点数：可以用科学计数法表示，1.23x109就是1.23e9，或者12.3e8，0.000012可以写成1.2e-5,整数运算永远都是正确的，例如，print(5/2)得到2.5，而浮点数运算需要考虑四舍五入的误差。
4. 字符串：
	* 转义字符，转义字符\可以转义很多字符，比如\n表示换行，\t表示制表符，字符\本身也要转义，所以\\\表示的字符就是\。
	* 为了简化，Python还允许用 r' ' 表示''内部的字符串默认不转义，原样输出。
	* 如果字符串内部有很多换行，用\n写在一行里不好阅读，为了简化，Python允许用'''的格式表示多行内容。
	* 字符串合并：```'-'.join(['c','l'])=='c-l'``` ,用-将列表连接起来形成字符串。
	* 大小写： 大写upper()、小写lower()。
	* 去除字符串左右的空白字符，```" 123 ".strip()```
	* 字符串排序：strlist.sort(), 按字符串长度排序：
	```strlist.sort(key=lambda x:len(list(x)))```
	* 字符串也可以切割，和列表一样
	* 大小写 s.upper() 和 s.lower() 
	* 判断是否以XX开头或结尾 s.startswith('a')、s.endswith('a')
	* 分割字符串 s.split(sep=) 默认sep为空格
	* is系列：
		* isalnum()：所有字符都是数字或者字母
		* isalpha()：所有字符都是字母
		* isdigit()：所有字符都是数字
		* islower()：所有字符都是小写
		* isupper()：所有字符都是大写
		* istitle()：首字母为大写，其余都为小写
		* isspace()：所有字符都是空白符
	* 计算字符串中某字符出现的次数：s.count('a')
	* 替换字符串中的指定字符或字符串：s.replace('abcd','efgh')
	* format格式化输出：
		```
		s = '我叫{}, 今年{}， 性别{}'.format('小五', 25, '女')
		s1 = '我叫{0}, 今年{1}， 性别{2}，我依然叫{0}'.format('小五', 25, '女')
		s2 = '我叫{name}, 今年{age}， 性别{sex}，我依然叫{name}'.format(age=25, sex='女',name='小五'）
		```
	* 首字母变成大写：s.capitalize()
	* 将字符串居中：s.center(50) 在50的长度里面字符串s居中显示，也可以填充：s.center(50,'*')
	* "-".join(list)：将list连接成字符串
	* 字符串倒置：str[::-1]

5. 布尔类型：
	* 布尔值和布尔代数的表示完全一致，一个布尔值只有True、False两种值，要么是True，要么是False，在Python中，可以直接用True、False表示布尔值（请注意大小写）。
	* 布尔类型可以用and、or和not运算。
6. 空值：空值是Python里一个特殊的值，用**None**表示。None不能理解为0，因为0是有意义的，而None是一个特殊的空值。

### 变量
可以为变量赋不同类型的值。这种变量本身类型不固定的语言称之为动态语言，与之对应的是静态语言。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。例如Java是静态语言。

### 常量
所谓常量就是不能变的变量，比如常用的数学常数π就是一个常量。
1. 10/3 是精确的，浮点数，这里的精确不是说得到的值是精确的，而是不会像c语言那样只取得整数部分，其实浮点数都是不准确的，你不能用两个浮点数去做相等判断。
2. 9/3 得到的也是浮点数3.0。
3. 10//3=3 只取整数部分的除法。
4. 10%3=1 求余运算。

### 赋值
1. 链式赋值语句: i=j=1
2. 复合赋值语句: k+=20 
3. 序列的拆包式赋值: a,b,c = 1,2,3
4. 两个变量调换: a,b = b,a

### 注释
1. 和C语言Java语言不一样，python使用 **#** 来进行注释，而且没有多行注释。
2. 在jupyter notebook中，代码行与注释行的相互切换使用 Ctrl+/ 
3. docstring，文档信息，在iPython中可以用？来显示文档信息，这个文档信息就是目标程序中用三个双引号括起来的多行说明性文字。

### 字符编码
1. 由于计算机是美国人发明的，因此，最早只有127个字符被编码到计算机里，也就是大小写英文字母、数字和一些符号，这个编码表被称为ASCII编码，比如大写字母A的编码是65，小写字母z的编码是122。

2. 但是要处理中文显然一个字节是不够的，至少需要两个字节，而且还不能和ASCII编码冲突，所以，中国制定了GB2312编码，用来把中文编进去。

3. 你可以想得到的是，全世界有上百种语言，日本把日文编到Shift_JIS里，韩国把韩文编到Euc-kr里，各国有各国的标准，就会不可避免地出现冲突，结果就是，在多语言混合的文本中，显示出来会有乱码。
4. 对于单个字符的编码，Python提供了ord()函数获取字符的整数表示，chr()函数把编码转换为对应的字符：
* > ord('A')
65
* > ord('中')
20013
* > chr(66)
'B'
* > chr(25991)
'文'
* > '\u4e2d\u6587'
'中文'
5. %运算符就是用来格式化字符串的。在字符串内部，%s表示用字符串替换，%d表示用整数替换，有几个%?占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个%?，括号可以省略。
* > 'Hello, %s' % 'world'
'Hello, world'
* > 'Hi, %s, you have $%d.' % ('Michael', 1000000)
'Hi, Michael, you have $1000000.'

### 运算符
1. 除法：y/x 运算结果为浮点数, // 代表取除数结果的整数部分
2. 幂次：x**y x的y次幂
3. is / not is：判断是否指向的是同一个索引
4. in / not in： 判断x是否在给定的容器中，例如List、Set、Tuple等
5. 逻辑运算符：and / or / not
6. 位运算： bin(x) 可以将x变为二进制数据，然后可以通过 &、|、^、~、>>、<< 进行位运算，分别表示 与、或、异或、取反、右移、左移运算，**取反运算比较复杂，从结果来说：取反结果为：原数+1再变相反数。**
```
x=2
y=3
bin(x&y)
```
7. pow（2,10），round(2.991)都是内置函数
8. math模块的函数和常量：
	* math.sin(x)
	* math.pi
	* math.sqrt(x) 求平方根，x为负数则报错

### list列表
1. list是一种有序的集合，可以随时添加和删除其中的元素，用中括号括住。
2. 用len()可以获得其大小
3. 用索引访问list中的每一个元素
 > classmates[0]
 'Michael'

4. 获取最后一个元素-1，倒数第二个元素-2。
> classmates[-1]
 'Tracy'
5. list追加元素
> classmates.append('Adam')
6. list插入元素
> classmates.insert(1, 'Jack') 插入索引为1的位置。
7. list删除末尾元素
> classmates.pop()
8. 删除指定元素
> classmates.pop(i) 删除索引为i的元素。
 或者classmates.remove('Adam')
9. 修改索引位置元素
> classmates[1] = 'Sarah'
10. 清空列表
> list.clear()
11. 取元素对应的索引
> list.index('Adam')
12. 对数组排序
> list.sort()
 或者 sorted(list)
`sort()`对原数组进行排序
`sorted()`会返回一个新迭代对象
以上两个函数都可以通过key来进行自定义排序
13. 数组元素反转
	* list.reverse()
	* reversed(list) 内置函数
	* list[::-1]
14. list中的加法和乘法
	* [1,2]+[3,4]=[1,2,3,4]
	* [1] x 3 = [1,1,1]
15. list进行强制转换
	list("xulei")
	> ['x','u','l','e','i']
16. list1.extend(list2)方法类似于 list1+list2
	list1.append(list2) 就是将list2作为一个元素追加到list1中去
17. list之间赋值
	lis[:3] = list[2::-1]   在原数组上倒置前三个元素


【注】list中的元素可以是任何类型，包括list，可以组成二维数组，三维数组...

### tuple
tuple和list的区别：tuple定义之后就不能修改了，没有append()和insert()函数，用大括号括起。
1. 定义一个空的tuple
> t=()
2. 定义只有一个元素的tuple
> t=(1,)
 不能 t=(1)
3. `tuple.index(obj)`：从元组中找出某个值第一个匹配项的索引值
4. `tuple.count(obj)`： 统计某个元素在元组中出现的次数

### 条件判断语句
```
if 表达式 :
	...
elif 表达式 :
	...
else :
	...
```
### 循环语句
Python的循环有两种
1. 一种是for...in循环，依次把list或tuple中的每个元素迭代出来。
```
for 元素 in list/tuple :
	...
```
`range(i)`：可以生成0~i-1的整数序列。
`list()`:可以转换为list。

2. 第二种循环是while循环，只要条件满足，就不断循环，条件不满足时退出循环。
```
while 表达式：
	...
```
3. break语句
跳出循环
4. continue语句
跳出本次循环

### dict(字典)
类似于其它语言中的Map
> d = {'Michael': 95, 'Bob': 75, 'Tracy': 85}
> d['Michael']
95

把数据放入dict
> d['Adam'] = 67
> d['Adam']

**dict是无序的**
1. 多次将一个相同的key值插入字典，后面的会覆盖前面的。
2. 查看某个key值是否在字典中
key in dict
会返回布尔类型
3. dict的get方法
	`d.get(key，default)`
会返回该key值对应的value，若key值不存在，返回default。
4. 删除一个键值对
5. dict是不可变的
这是因为dict根据key来计算value的存储位置，如果每次计算相同的key得出的结果不同，那dict内部就完全混乱了。这个通过key计算位置的算法称为哈希算法（Hash）。
要保证hash的正确性，作为key的对象就不能变。在Python中，字符串、整数等都是不可变的，因此，可以放心地作为key。而list是可变的，就不能作为key
	`d.pop(key)`

### set
和字典类似，不过这里只有key没有value，且key不能重复，也没有顺序。set的创建需要一个list作为输入。对于list中重复的数据，set会过滤只保留一个。
1. add(key) :可以往set中加元素，可以重复但不会有效。
2. remove(key) :可以删除set中的key。
3. set可以看成是数学上的无序无重复的集合，故可以做交集并集操作。
交集：s1 & s2
并集：s1 | s2
子集：{ 1，5 } < { 1,3,5 }
差集：{ 1，3，5 }-{ 1，3 }=={ 5 }
4. set和dict的唯一区别仅在于没有存储对应的value，但是，set的原理和dict一样，所以，同样不可以放入可变对象，因为无法判断两个可变对象是否相等，也就无法保证set内部“不会有重复元素”。
5. 确定性：`2 in myset` 返回true。
6. 无序性：不能通过下标访问集合的某个元素。
7. 互异性：{1，2，3} 和 {1，2，3，1，2}是两个相同的集合。
8. 支持集合运算 
9. 属于可变对象

list、tuple、dict和set的区别：
**一句话来概括四种数据类型的区别是：tuple是一个不可改变的list，set是一个没有Value的dict，list和set的数据是可变的，tuple和dict的数据是不可变的！**

list和set的数据可变的，tuple和dict的数据是不可变的。list是最自由的，可以使用索引、切片，可以进行计算和修改；tuple是不自由的，数据不能更改，但是和list一样具有序列，可以用索引和切片；dict是半自由的，自由体现在键值对的无序，可以通过key去索引value的值，不自由体现在数据操作只能通过key来实现，键值对是不可变类型；set是半自由的，自由体现在它通过list传值给它，数据类型是可变的，还可以改变list中的值，数据集是无序的，不重复的，可以进行计算，不自由体现在无法使用索引和切片准确定位。
* 不可变对象：当改变某个变量时候，由于其所指的值不能被改变，相当于把原来的值复制一份后再改变，这会开辟一个新的地址，变量再指向这个新的地址。
* 可变对象：变量（准确的说是引用）改变后，实际上是其所指的值直接发生改变，并没有发生复制行为，也没有开辟新的出地址，通俗点说就是**原地改变**。

### 模块函数
需要先导入后才能使用
模块就是一个py文件，多个模块 + __init__.py文件这就是一个包
1. 导入模块的三种方式：
	* import 模块名
	* import 模块名 as 别名
	* from 模块名 import 函数名
	* from 包名.文件名 import 类名/函数
2. 模块就是一个.py文件，如果多个人创建了同名的.py文件，又引入了包的概念，包下一定要有__init__.py才能叫做包。

### 内置函数
在python解释器中的函数，可以直接通过函数名来调用函数。
1. 查看内置函数的一个帮助文档
```
help(len)
len?
```
2. 常见的内置函数
	* help(): 帮助函数
	* type(): 查看类型
	* id(): 查看id
	* len(): 计算长度
	* isinstance(): 判断是否属于特定的数据类型
3. 类型函数
	* int()
	* bool()
	* float()
	* str()
	* list()
	* set()
	* tuple()
4. 其他
	* type() 查看数据类型
	* isinstance() 判断数据类型
	* dir() 查看某个对象所支持的方法/属性清单
	* callable() 判断是否可以调用
	* help() 查看帮助
	* bin() 十进制转为二进制
	* hex() 十进制转为十六进制
5. 包
	* 查看已安装包的列表   pip list 
	* 更新某已安装的包		pip install --upgradeo 包名
	* 移除某已安装包		 pip uninstall	包名
	* 下载/安装指定的包  	pip install 包名





